{"ast":null,"code":"import React,{useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PhotoModal=_ref=>{let{photo,onClose}=_ref;const audioRef=useRef(null);const handleClose=()=>{if(audioRef.current){audioRef.current.pause();audioRef.current.currentTime=0;}// ðŸŒ¹ Si es la Ãºltima carta, disparar lluvia de rosas\nif(photo.id===12){crearLluviaDeRosas();}onClose();};const crearLluviaDeRosas=()=>{const colores=['red','pink','black'];for(let i=0;i<30;i++){const rosa=document.createElement('div');rosa.className='rosa';rosa.style.left=Math.random()*100+'vw';rosa.style.backgroundColor=colores[Math.floor(Math.random()*colores.length)];document.body.appendChild(rosa);setTimeout(()=>{rosa.remove();},5000);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"img\",{src:photo.src,alt:\"foto ampliada\",className:\"modal-photo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-carta \".concat(photo.id===12?'ultima-carta':''),children:photo.carta}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,src:photo.musica,loop:true}),/*#__PURE__*/_jsx(\"button\",{className:\"play-btn\",onClick:()=>{var _audioRef$current;return(_audioRef$current=audioRef.current)===null||_audioRef$current===void 0?void 0:_audioRef$current.play();},children:\"\\uD83D\\uDC96 Mi cora\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:handleClose,children:\"Cerrar \\u2716\"})]})});};export default PhotoModal;","map":{"version":3,"names":["React","useRef","jsx","_jsx","jsxs","_jsxs","PhotoModal","_ref","photo","onClose","audioRef","handleClose","current","pause","currentTime","id","crearLluviaDeRosas","colores","i","rosa","document","createElement","className","style","left","Math","random","backgroundColor","floor","length","body","appendChild","setTimeout","remove","onClick","children","e","stopPropagation","src","alt","concat","carta","ref","musica","loop","_audioRef$current","play"],"sources":["C:/Users/gonza/frases-web/src/components/PhotoModal.jsx"],"sourcesContent":["import React, { useRef } from 'react';\r\n\r\nconst PhotoModal = ({ photo, onClose }) => {\r\n  const audioRef = useRef(null);\r\n\r\n  const handleClose = () => {\r\n    if (audioRef.current) {\r\n      audioRef.current.pause();\r\n      audioRef.current.currentTime = 0;\r\n    }\r\n\r\n    // ðŸŒ¹ Si es la Ãºltima carta, disparar lluvia de rosas\r\n    if (photo.id === 12) {\r\n      crearLluviaDeRosas();\r\n    }\r\n\r\n    onClose();\r\n  };\r\n\r\n  const crearLluviaDeRosas = () => {\r\n    const colores = ['red', 'pink', 'black'];\r\n    for (let i = 0; i < 30; i++) {\r\n      const rosa = document.createElement('div');\r\n      rosa.className = 'rosa';\r\n      rosa.style.left = Math.random() * 100 + 'vw';\r\n      rosa.style.backgroundColor = colores[Math.floor(Math.random() * colores.length)];\r\n      document.body.appendChild(rosa);\r\n\r\n      setTimeout(() => {\r\n        rosa.remove();\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <img src={photo.src} alt=\"foto ampliada\" className=\"modal-photo\" />\r\n\r\n        {/* Carta normal o Ãºltima carta */}\r\n        <p className={`modal-carta ${photo.id === 12 ? 'ultima-carta' : ''}`}>\r\n          {photo.carta}\r\n        </p>\r\n\r\n        {/* ðŸŽµ Audio sin controles visibles */}\r\n        <audio ref={audioRef} src={photo.musica} loop />\r\n\r\n        {/* BotÃ³n directo para reproducir */}\r\n        <button className=\"play-btn\" onClick={() => audioRef.current?.play()}>\r\n          ðŸ’– Mi cora\r\n        </button>\r\n\r\n        <button className=\"close-btn\" onClick={handleClose}>Cerrar âœ–</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoModal;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,KAAK,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACpC,KAAM,CAAAG,QAAQ,CAAGT,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAU,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAID,QAAQ,CAACE,OAAO,CAAE,CACpBF,QAAQ,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,CACxBH,QAAQ,CAACE,OAAO,CAACE,WAAW,CAAG,CAAC,CAClC,CAEA;AACA,GAAIN,KAAK,CAACO,EAAE,GAAK,EAAE,CAAE,CACnBC,kBAAkB,CAAC,CAAC,CACtB,CAEAP,OAAO,CAAC,CAAC,CACX,CAAC,CAED,KAAM,CAAAO,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,OAAO,CAAG,CAAC,KAAK,CAAE,MAAM,CAAE,OAAO,CAAC,CACxC,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEA,CAAC,EAAE,CAAE,CAC3B,KAAM,CAAAC,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAC1CF,IAAI,CAACG,SAAS,CAAG,MAAM,CACvBH,IAAI,CAACI,KAAK,CAACC,IAAI,CAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,CAAG,IAAI,CAC5CP,IAAI,CAACI,KAAK,CAACI,eAAe,CAAGV,OAAO,CAACQ,IAAI,CAACG,KAAK,CAACH,IAAI,CAACC,MAAM,CAAC,CAAC,CAAGT,OAAO,CAACY,MAAM,CAAC,CAAC,CAChFT,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACZ,IAAI,CAAC,CAE/Ba,UAAU,CAAC,IAAM,CACfb,IAAI,CAACc,MAAM,CAAC,CAAC,CACf,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAC,CAED,mBACE9B,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAACY,OAAO,CAAEvB,WAAY,CAAAwB,QAAA,cAClD9B,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAACY,OAAO,CAAGE,CAAC,EAAKA,CAAC,CAACC,eAAe,CAAC,CAAE,CAAAF,QAAA,eACjEhC,IAAA,QAAKmC,GAAG,CAAE9B,KAAK,CAAC8B,GAAI,CAACC,GAAG,CAAC,eAAe,CAACjB,SAAS,CAAC,aAAa,CAAE,CAAC,cAGnEnB,IAAA,MAAGmB,SAAS,gBAAAkB,MAAA,CAAiBhC,KAAK,CAACO,EAAE,GAAK,EAAE,CAAG,cAAc,CAAG,EAAE,CAAG,CAAAoB,QAAA,CAClE3B,KAAK,CAACiC,KAAK,CACX,CAAC,cAGJtC,IAAA,UAAOuC,GAAG,CAAEhC,QAAS,CAAC4B,GAAG,CAAE9B,KAAK,CAACmC,MAAO,CAACC,IAAI,MAAE,CAAC,cAGhDzC,IAAA,WAAQmB,SAAS,CAAC,UAAU,CAACY,OAAO,CAAEA,CAAA,QAAAW,iBAAA,QAAAA,iBAAA,CAAMnC,QAAQ,CAACE,OAAO,UAAAiC,iBAAA,iBAAhBA,iBAAA,CAAkBC,IAAI,CAAC,CAAC,EAAC,CAAAX,QAAA,CAAC,sBAEtE,CAAQ,CAAC,cAEThC,IAAA,WAAQmB,SAAS,CAAC,WAAW,CAACY,OAAO,CAAEvB,WAAY,CAAAwB,QAAA,CAAC,eAAQ,CAAQ,CAAC,EAClE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}